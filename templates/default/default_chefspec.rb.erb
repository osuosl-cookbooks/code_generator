require_relative 'spec_helper'

describe '<%= cookbook_name %>::<%= recipe_name %>', <%= recipe_name %>: true do
  let(:runner) do
    ChefSpec::SoloRunner.new(CENTOS_7_OPTS) do |node|
      # Work around for base::ifconfig:47
      node.automatic['virtualization']['system']
    end
  end
  let(:node) { runner.node }
  cached(:chef_run) { runner.converge(described_recipe) }
  it 'converges successfully' do
    expect { chef_run }.to_not raise_error
  end
end
